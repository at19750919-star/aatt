<!doctype html>
<html lang="zh-Hant">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>æ·ºè‰²æ¨¡å¼è¨­å®š - WAA ç†ç‰Œ v2.0</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* æ·ºè‰²æ¨¡å¼è¨­å®šé é¢å°ˆç”¨æ¨£å¼ */
        .settings-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .settings-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #f0f4f8 0%, #e8f4fd 100%);
            border-radius: 12px;
            border: 1px solid #e2e8f0;
        }
        
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .setting-group {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .setting-group h3 {
            margin: 0 0 15px 0;
            color: #2d3748;
            font-size: 18px;
            font-weight: 600;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 8px;
        }
        
        .color-picker-group {
            display: grid;
            grid-template-columns: 1fr auto auto;
            gap: 10px;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .color-picker-group label {
            font-size: 14px;
            color: #4a5568;
            font-weight: 500;
        }
        
        .color-picker {
            width: 40px;
            height: 30px;
            border: 1px solid #cbd5e0;
            border-radius: 6px;
            cursor: pointer;
        }
        
        .color-input {
            width: 80px;
            padding: 4px 8px;
            border: 1px solid #cbd5e0;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
        }
        
        .preview-area {
            margin-top: 30px;
            padding: 20px;
            background: #f7fafc;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
        }
        
        .preview-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .preview-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .btn-large {
            padding: 12px 24px;
            font-size: 16px;
            font-weight: 600;
            min-width: 140px;
        }
        
        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            padding: 10px 15px;
            background: white;
            border: 1px solid #cbd5e0;
            border-radius: 8px;
            text-decoration: none;
            color: #4a5568;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: all 0.2s ease;
        }
        
        .back-link:hover {
            background: #f7fafc;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        /* å¼·åˆ¶ä½¿ç”¨æ·ºè‰²æ¨¡å¼ */
        body {
            background: linear-gradient(135deg, #f0f4f8 0%, #e8f4fd 50%, #f7fafc 100%) !important;
            color: #2d3748 !important;
            min-height: 100vh;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">â† å›åˆ°ä¸»é </a>
    
    <div class="settings-container">
        <div class="settings-header">
            <h1>ğŸ¨ æ·ºè‰²æ¨¡å¼è¨­å®š</h1>
            <p>è‡ªå®šç¾©æ‚¨çš„æ·ºè‰²ä¸»é¡Œå¤–è§€ï¼Œèª¿æ•´é¡è‰²ã€æ¼¸è®Šå’Œè¦–è¦ºæ•ˆæœ</p>
        </div>
        
        <div class="settings-grid">
            <!-- èƒŒæ™¯è‰²è¨­å®š -->
            <div class="setting-group">
                <h3>ğŸŒ… èƒŒæ™¯è‰²èª¿</h3>
                <div class="color-picker-group">
                    <label>ä¸»èƒŒæ™¯è‰²</label>
                    <input type="color" class="color-picker" id="bgMain" value="#f0f4f8">
                    <input type="text" class="color-input" id="bgMainText" value="#f0f4f8">
                </div>
                <div class="color-picker-group">
                    <label>å¡ç‰‡èƒŒæ™¯</label>
                    <input type="color" class="color-picker" id="bgCard" value="#ffffff">
                    <input type="text" class="color-input" id="bgCardText" value="#ffffff">
                </div>
                <div class="color-picker-group">
                    <label>è¼¸å…¥æ¡†èƒŒæ™¯</label>
                    <input type="color" class="color-picker" id="bgInput" value="#ffffff">
                    <input type="text" class="color-input" id="bgInputText" value="#ffffff">
                </div>
            </div>
            
            <!-- æ–‡å­—è‰²å½© -->
            <div class="setting-group">
                <h3>ğŸ“ æ–‡å­—è‰²å½©</h3>
                <div class="color-picker-group">
                    <label>ä¸»è¦æ–‡å­—</label>
                    <input type="color" class="color-picker" id="textPrimary" value="#2d3748">
                    <input type="text" class="color-input" id="textPrimaryText" value="#2d3748">
                </div>
                <div class="color-picker-group">
                    <label>æ¬¡è¦æ–‡å­—</label>
                    <input type="color" class="color-picker" id="textSecondary" value="#4a5568">
                    <input type="text" class="color-input" id="textSecondaryText" value="#4a5568">
                </div>
                <div class="color-picker-group">
                    <label>æç¤ºæ–‡å­—</label>
                    <input type="color" class="color-picker" id="textMuted" value="#718096">
                    <input type="text" class="color-input" id="textMutedText" value="#718096">
                </div>
            </div>
            
            <!-- å¼·èª¿è‰² */
            <div class="setting-group">
                <h3>ğŸ¯ å¼·èª¿è‰²å½©</h3>
                <div class="color-picker-group">
                    <label>è—è‰²å¼·èª¿</label>
                    <input type="color" class="color-picker" id="accentBlue" value="#4299e1">
                    <input type="text" class="color-input" id="accentBlueText" value="#4299e1">
                </div>
                <div class="color-picker-group">
                    <label>ç¶ è‰²å¼·èª¿</label>
                    <input type="color" class="color-picker" id="accentGreen" value="#48bb78">
                    <input type="text" class="color-input" id="accentGreenText" value="#48bb78">
                </div>
                <div class="color-picker-group">
                    <label>ç´…è‰²å¼·èª¿</label>
                    <input type="color" class="color-picker" id="accentRed" value="#f56565">
                    <input type="text" class="color-input" id="accentRedText" value="#f56565">
                </div>
                <div class="color-picker-group">
                    <label>é»ƒè‰²å¼·èª¿</label>
                    <input type="color" class="color-picker" id="accentYellow" value="#d69e2e">
                    <input type="text" class="color-input" id="accentYellowText" value="#d69e2e">
                </div>
            </div>
            
            <!-- é‚Šæ¡†èˆ‡é™°å½± -->
            <div class="setting-group">
                <h3>ğŸ”² é‚Šæ¡†èˆ‡æ•ˆæœ</h3>
                <div class="color-picker-group">
                    <label>é‚Šæ¡†é¡è‰²</label>
                    <input type="color" class="color-picker" id="borderColor" value="#e2e8f0">
                    <input type="text" class="color-input" id="borderColorText" value="#e2e8f0">
                </div>
                <div class="color-picker-group">
                    <label>é™°å½±é€æ˜åº¦</label>
                    <input type="range" min="0" max="100" value="10" id="shadowOpacity">
                    <span id="shadowOpacityValue">10%</span>
                </div>
                <div class="color-picker-group">
                    <label>åœ“è§’å¤§å°</label>
                    <input type="range" min="0" max="20" value="12" id="borderRadius">
                    <span id="borderRadiusValue">12px</span>
                </div>
            </div>
            
            <!-- ç‰¹æ®Šæ•ˆæœ -->
            <div class="setting-group">
                <h3>âœ¨ ç‰¹æ®Šæ•ˆæœ</h3>
                <div class="color-picker-group">
                    <label>å•Ÿç”¨æ¼¸è®ŠèƒŒæ™¯</label>
                    <input type="checkbox" id="enableGradients" checked>
                    <span></span>
                </div>
                <div class="color-picker-group">
                    <label>å•Ÿç”¨æ¨¡ç³Šæ•ˆæœ</label>
                    <input type="checkbox" id="enableBlur">
                    <span></span>
                </div>
                <div class="color-picker-group">
                    <label>å‹•ç•«éæ¸¡æ™‚é–“</label>
                    <input type="range" min="0" max="500" value="200" id="transitionTime">
                    <span id="transitionTimeValue">200ms</span>
                </div>
            </div>
            
            <!-- é è¨­æ–¹æ¡ˆ -->
            <div class="setting-group">
                <h3>ğŸ¨ é è¨­æ–¹æ¡ˆ</h3>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <button class="btn btn-secondary" onclick="applyPreset('clean')">æ¥µç°¡ç™½æ·¨</button>
                    <button class="btn btn-secondary" onclick="applyPreset('warm')">æº«æš–ç±³è‰²</button>
                    <button class="btn btn-secondary" onclick="applyPreset('cool')">æ¸…æ¶¼è—èª¿</button>
                    <button class="btn btn-secondary" onclick="applyPreset('soft')">æŸ”å’Œç²‰å½©</button>
                    <button class="btn btn-secondary" onclick="applyPreset('vibrant')">æ´»åŠ›å½©è‰²</button>
                </div>
            </div>
        </div>
        
        <!-- å³æ™‚é è¦½å€åŸŸ -->
        <div class="preview-area">
            <h3>ğŸ“± å³æ™‚é è¦½</h3>
            <div class="preview-cards">
                <div class="preview-card">
                    <h4>å¡ç‰‡æ¨™é¡Œ</h4>
                    <p>é€™æ˜¯å¡ç‰‡å…§å®¹çš„é è¦½æ–‡å­—</p>
                    <button class="btn btn-primary">ä¸»è¦æŒ‰éˆ•</button>
                </div>
                <div class="preview-card">
                    <label>è¼¸å…¥æ¡†ç¯„ä¾‹</label>
                    <input type="text" placeholder="è¼¸å…¥å…§å®¹..." style="width: 100%; margin-top: 5px;">
                </div>
                <div class="preview-card">
                    <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 2px;">
                        <div class="cell" style="background: #fed7d7; padding: 8px; text-align: center;">R</div>
                        <div class="cell" style="background: #bee3f8; padding: 8px; text-align: center;">B</div>
                        <div class="cell" style="background: #fed7d7; padding: 8px; text-align: center;">R</div>
                        <div class="cell" style="background: #bee3f8; padding: 8px; text-align: center;">B</div>
                        <div class="cell" style="background: #fed7d7; padding: 8px; text-align: center;">R</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- æ“ä½œæŒ‰éˆ• -->
        <div class="action-buttons">
            <button class="btn btn-large btn-confirm" onclick="applySettings()">âœ… æ‡‰ç”¨è¨­å®š</button>
            <button class="btn btn-large btn-primary" onclick="previewInMainPage()">ğŸ‘€ ä¸»é é è¦½</button>
            <button class="btn btn-large btn-secondary" onclick="resetToDefault()">ğŸ”„ é‡ç½®é è¨­</button>
            <button class="btn btn-large" onclick="exportSettings()">ğŸ’¾ å°å‡ºè¨­å®š</button>
            <button class="btn btn-large" onclick="importSettings()">ğŸ“‚ å°å…¥è¨­å®š</button>
        </div>
    </div>
    
    <script>
        // æ·ºè‰²æ¨¡å¼è¨­å®šé é¢çš„ JavaScript åŠŸèƒ½
        
        // åŒæ­¥é¡è‰²é¸æ“‡å™¨å’Œæ–‡å­—è¼¸å…¥
        function syncColorInputs() {
            const colorPairs = [
                ['bgMain', 'bgMainText'],
                ['bgCard', 'bgCardText'], 
                ['bgInput', 'bgInputText'],
                ['textPrimary', 'textPrimaryText'],
                ['textSecondary', 'textSecondaryText'],
                ['textMuted', 'textMutedText'],
                ['accentBlue', 'accentBlueText'],
                ['accentGreen', 'accentGreenText'],
                ['accentRed', 'accentRedText'],
                ['accentYellow', 'accentYellowText'],
                ['borderColor', 'borderColorText']
            ];
            
            colorPairs.forEach(([pickerId, textId]) => {
                const picker = document.getElementById(pickerId);
                const text = document.getElementById(textId);
                
                picker.addEventListener('input', () => {
                    text.value = picker.value;
                    updatePreview();
                });
                
                text.addEventListener('input', () => {
                    if (/^#[0-9A-Fa-f]{6}$/.test(text.value)) {
                        picker.value = text.value;
                        updatePreview();
                    }
                });
            });
        }
        
        // æ›´æ–°æ»‘å‹•æ¢é¡¯ç¤ºå€¼
        function updateSliderValues() {
            const shadowOpacity = document.getElementById('shadowOpacity');
            const shadowOpacityValue = document.getElementById('shadowOpacityValue');
            shadowOpacity.addEventListener('input', () => {
                shadowOpacityValue.textContent = shadowOpacity.value + '%';
                updatePreview();
            });
            
            const borderRadius = document.getElementById('borderRadius');
            const borderRadiusValue = document.getElementById('borderRadiusValue');
            borderRadius.addEventListener('input', () => {
                borderRadiusValue.textContent = borderRadius.value + 'px';
                updatePreview();
            });
            
            const transitionTime = document.getElementById('transitionTime');
            const transitionTimeValue = document.getElementById('transitionTimeValue');
            transitionTime.addEventListener('input', () => {
                transitionTimeValue.textContent = transitionTime.value + 'ms';
                updatePreview();
            });
        }
        
        // å³æ™‚é è¦½æ›´æ–°
        function updatePreview() {
            // é€™è£¡å¯ä»¥å³æ™‚æ›´æ–°é è¦½å€åŸŸçš„æ¨£å¼
            const previewCards = document.querySelectorAll('.preview-card');
            const bgCard = document.getElementById('bgCard').value;
            const textPrimary = document.getElementById('textPrimary').value;
            const borderColor = document.getElementById('borderColor').value;
            const borderRadius = document.getElementById('borderRadius').value;
            
            previewCards.forEach(card => {
                card.style.backgroundColor = bgCard;
                card.style.color = textPrimary;
                card.style.borderColor = borderColor;
                card.style.borderRadius = borderRadius + 'px';
            });
        }
        
        // æ‡‰ç”¨é è¨­æ–¹æ¡ˆ
        function applyPreset(presetName) {
            const presets = {
                clean: {
                    bgMain: '#ffffff',
                    bgCard: '#ffffff', 
                    bgInput: '#ffffff',
                    textPrimary: '#1a202c',
                    textSecondary: '#4a5568',
                    textMuted: '#718096',
                    accentBlue: '#3182ce',
                    accentGreen: '#38a169',
                    accentRed: '#e53e3e',
                    accentYellow: '#d69e2e',
                    borderColor: '#e2e8f0'
                },
                warm: {
                    bgMain: '#fef5e7',
                    bgCard: '#ffffff',
                    bgInput: '#fefcf6', 
                    textPrimary: '#744210',
                    textSecondary: '#92400e',
                    textMuted: '#a16207',
                    accentBlue: '#1e40af',
                    accentGreen: '#166534',
                    accentRed: '#dc2626',
                    accentYellow: '#ca8a04',
                    borderColor: '#fed7aa'
                },
                cool: {
                    bgMain: '#f0f9ff',
                    bgCard: '#ffffff',
                    bgInput: '#f8fafc',
                    textPrimary: '#0c4a6e',
                    textSecondary: '#075985', 
                    textMuted: '#0284c7',
                    accentBlue: '#0284c7',
                    accentGreen: '#059669',
                    accentRed: '#dc2626',
                    accentYellow: '#ca8a04',
                    borderColor: '#bae6fd'
                },
                soft: {
                    bgMain: '#fdf2f8',
                    bgCard: '#ffffff',
                    bgInput: '#fefcfe',
                    textPrimary: '#831843',
                    textSecondary: '#be185d',
                    textMuted: '#ec4899',
                    accentBlue: '#7c3aed',
                    accentGreen: '#059669',
                    accentRed: '#e11d48',
                    accentYellow: '#ca8a04',
                    borderColor: '#f9a8d4'
                },
                vibrant: {
                    bgMain: '#f0fdf4',
                    bgCard: '#ffffff',
                    bgInput: '#fefffe',
                    textPrimary: '#14532d',
                    textSecondary: '#166534',
                    textMuted: '#16a34a',
                    accentBlue: '#2563eb',
                    accentGreen: '#16a34a',
                    accentRed: '#dc2626',
                    accentYellow: '#eab308',
                    borderColor: '#bbf7d0'
                }
            };
            
            const preset = presets[presetName];
            if (preset) {
                Object.keys(preset).forEach(key => {
                    const picker = document.getElementById(key);
                    const text = document.getElementById(key + 'Text');
                    if (picker && text) {
                        picker.value = preset[key];
                        text.value = preset[key];
                    }
                });
                updatePreview();
            }
        }
        
        // æ‡‰ç”¨è¨­å®šåˆ°ä¸»æ¨£å¼
        function applySettings() {
            const settings = {
                bgMain: document.getElementById('bgMain').value,
                bgCard: document.getElementById('bgCard').value,
                bgInput: document.getElementById('bgInput').value,
                textPrimary: document.getElementById('textPrimary').value,
                textSecondary: document.getElementById('textSecondary').value,
                textMuted: document.getElementById('textMuted').value,
                accentBlue: document.getElementById('accentBlue').value,
                accentGreen: document.getElementById('accentGreen').value,
                accentRed: document.getElementById('accentRed').value,
                accentYellow: document.getElementById('accentYellow').value,
                borderColor: document.getElementById('borderColor').value,
                shadowOpacity: document.getElementById('shadowOpacity').value,
                borderRadius: document.getElementById('borderRadius').value,
                transitionTime: document.getElementById('transitionTime').value,
                enableGradients: document.getElementById('enableGradients').checked,
                enableBlur: document.getElementById('enableBlur').checked
            };
            
            // ä¿å­˜åˆ° localStorage
            localStorage.setItem('lightThemeSettings', JSON.stringify(settings));
            
            alert('âœ… æ·ºè‰²æ¨¡å¼è¨­å®šå·²ä¿å­˜ï¼è«‹åˆ°ä¸»é æŸ¥çœ‹æ•ˆæœã€‚');
        }
        
        // åœ¨ä¸»é é è¦½
        function previewInMainPage() {
            applySettings();
            window.open('index.html', '_blank');
        }
        
        // é‡ç½®ç‚ºé è¨­å€¼
        function resetToDefault() {
            if (confirm('ç¢ºå®šè¦é‡ç½®æ‰€æœ‰è¨­å®šç‚ºé è¨­å€¼å—ï¼Ÿ')) {
                applyPreset('clean');
                document.getElementById('shadowOpacity').value = 10;
                document.getElementById('borderRadius').value = 12;
                document.getElementById('transitionTime').value = 200;
                document.getElementById('enableGradients').checked = true;
                document.getElementById('enableBlur').checked = false;
                updateSliderValues();
                updatePreview();
            }
        }
        
        // å°å‡ºè¨­å®š
        function exportSettings() {
            applySettings();
            const settings = localStorage.getItem('lightThemeSettings');
            const blob = new Blob([settings], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'light-theme-settings.json';
            a.click();
            URL.revokeObjectURL(url);
        }
        
        // å°å…¥è¨­å®š
        function importSettings() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        try {
                            const settings = JSON.parse(e.target.result);
                            Object.keys(settings).forEach(key => {
                                const element = document.getElementById(key);
                                if (element) {
                                    if (element.type === 'checkbox') {
                                        element.checked = settings[key];
                                    } else {
                                        element.value = settings[key];
                                        // åŒæ­¥æ–‡å­—è¼¸å…¥æ¡†
                                        const textElement = document.getElementById(key + 'Text');
                                        if (textElement) textElement.value = settings[key];
                                    }
                                }
                            });
                            updateSliderValues();
                            updatePreview();
                            alert('âœ… è¨­å®šå°å…¥æˆåŠŸï¼');
                        } catch (err) {
                            alert('âŒ è¨­å®šæª”æ¡ˆæ ¼å¼éŒ¯èª¤ï¼');
                        }
                    };
                    reader.readAsText(file);
                }
            };
            input.click();
        }
        
        // é é¢è¼‰å…¥å®Œæˆå¾Œåˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            syncColorInputs();
            updateSliderValues();
            updatePreview();
            
            // è¼‰å…¥å·²ä¿å­˜çš„è¨­å®š
            const savedSettings = localStorage.getItem('lightThemeSettings');
            if (savedSettings) {
                try {
                    const settings = JSON.parse(savedSettings);
                    Object.keys(settings).forEach(key => {
                        const element = document.getElementById(key);
                        if (element) {
                            if (element.type === 'checkbox') {
                                element.checked = settings[key];
                            } else {
                                element.value = settings[key];
                                const textElement = document.getElementById(key + 'Text');
                                if (textElement) textElement.value = settings[key];
                            }
                        }
                    });
                    updateSliderValues();
                    updatePreview();
                } catch (err) {
                    console.log('è¼‰å…¥è¨­å®šå¤±æ•—ï¼Œä½¿ç”¨é è¨­å€¼');
                }
            }
        });
    </script>
</body>
</html>